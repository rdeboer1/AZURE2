\doxysection{Rich\+Text\+Delegate.\+cpp}
\hypertarget{_rich_text_delegate_8cpp_source}{}\label{_rich_text_delegate_8cpp_source}\index{/Users/kuba/Desktop/R-\/Matrix/AZURE2/gui/src/RichTextDelegate.cpp@{/Users/kuba/Desktop/R-\/Matrix/AZURE2/gui/src/RichTextDelegate.cpp}}
\mbox{\hyperlink{_rich_text_delegate_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00001}00001\ \textcolor{preprocessor}{\#include\ <QTextDocument>}}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00002}00002\ \textcolor{preprocessor}{\#include\ <QPainter>}}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00003}00003\ \textcolor{preprocessor}{\#include\ <QAbstractTextDocumentLayout>}}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00004}00004\ \textcolor{preprocessor}{\#include\ <QApplication>}}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00005}00005\ \textcolor{preprocessor}{\#include\ <QPushButton>}}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_rich_text_delegate_8h}{RichTextDelegate.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00009}\mbox{\hyperlink{class_rich_text_delegate_aa80b691b4fdca33cbf0eaa6ef5c81181}{00009}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_rich_text_delegate_aa80b691b4fdca33cbf0eaa6ef5c81181}{RichTextDelegate::paint}}(QPainter\ *painter,\ \textcolor{keyword}{const}\ QStyleOptionViewItem\ \&option,\ \textcolor{keyword}{const}\ QModelIndex\ \&index)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00010}00010\ \ \ QTextDocument\ document;}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00011}00011\ \ \ QString\ value\ =\ index.data(Qt::DisplayRole).toString();}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00012}00012\ \ \ }
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00013}00013\ \ \ document.setHtml(value);}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00014}00014\ \ \ QStyleOptionViewItemV4\ opt(option);}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00015}00015\ \ \ initStyleOption(\&opt,\ index);}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00016}00016\ }
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00017}00017\ \ \ document.setTextWidth(opt.rect.width());}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00019}00019\ \ \ opt.text=QString();}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00020}00020\ \ \ QStyle\ *style\ =\ opt.widget\ ?\ opt.widget-\/>style()\ :\ QApplication::style();}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00021}00021\ \ \ style-\/>drawControl(QStyle::CE\_ItemViewItem,\ \&opt,\ painter);}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00022}00022\ }
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00023}00023\ \ \ QAbstractTextDocumentLayout::PaintContext\ ctx;}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00024}00024\ \ \ \textcolor{keywordflow}{if}\ (opt.state\ \&\ QStyle::State\_Selected)\ \{}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00025}00025\ \ \ \ \ \textcolor{keywordflow}{if}(opt.state\ \&\ QStyle::State\_Active)}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00026}00026\ \ \ \ \ \ \ ctx.palette.setColor(QPalette::Text,\ opt.palette.color(QPalette::Active,\ QPalette::HighlightedText));}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00027}00027\ \ \ \ \ \textcolor{keywordflow}{else}\ ctx.palette.setColor(QPalette::Text,\ opt.palette.color(QPalette::Inactive,\ QPalette::HighlightedText));}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00028}00028\ \ \ \}}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00029}00029\ \ \ }
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00030}00030\ \ \ painter-\/>translate(opt.rect.topLeft());}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00031}00031\ \ \ document.documentLayout()-\/>draw(painter,ctx);}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00032}00032\ \ \ painter-\/>translate(-\/opt.rect.topLeft());}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00033}00033\ \}}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00035}\mbox{\hyperlink{class_rich_text_delegate_a4be004b4d6d4d2951dd75272083d7b6f}{00035}}\ QSize\ \mbox{\hyperlink{class_rich_text_delegate_a4be004b4d6d4d2951dd75272083d7b6f}{RichTextDelegate::sizeHint}}(\textcolor{keyword}{const}\ QStyleOptionViewItem\ \&\ option,\ \textcolor{keyword}{const}\ QModelIndex\ \&\ index\ )\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00036}00036\ \ \ QTextDocument\ document;}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00037}00037\ \ \ QString\ value\ =\ index.data(Qt::DisplayRole).toString();}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00038}00038\ \ \ document.setHtml(value);}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00039}00039\ \ \ document.setTextWidth(option.rect.width());}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00040}00040\ \ \ \textcolor{keywordflow}{return}\ QSize(option.rect.width(),document.size().height());}
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00041}00041\ \}\ }
\DoxyCodeLine{\Hypertarget{_rich_text_delegate_8cpp_source_l00042}00042\ }

\end{DoxyCode}
